/*!
 * JParticles v3.1.0 (https://github.com/Barrior/JParticles)
 * Copyright 2016-2021 Barrior <Barrior@qq.com>
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).JParticles={})}(this,(function(t){"use strict";var e,n,i=Math.PI/180,r=Function.prototype.toString,o=r.call(Object),s=/msie\s8.0/i.test(navigator.userAgent),a=!!Object.defineProperty&&!s,u=/\s/g;function c(t,e){return Object.prototype.toString.call(t)===e}function h(t){return c(t,"[object Function]")}function f(t){if(!c(t,"[object Object]"))return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&r.call(n)===o}function p(t){return"string"==typeof t}function d(t){return void 0===t}function l(t){return null===t}function v(t){return!(!t||1!==t.nodeType)}function m(t,e){return void 0===e&&(e=10),parseInt(t,e)}function g(t){return t[0].toUpperCase()+t.substring(1)}function y(t,e){var n=window.getComputedStyle(t)[e];if(p(n)){var i=n.match(/\d+/);if(i)return m(i[0])}}!function(t){t.DESTROY="DESTROY",t.RESIZE="RESIZE"}(e||(e={})),function(t){t.PROGRESS="PROGRESS",t.FINISHED="FINISHED"}(n||(n={}));var w,b,M=(w=window.MutationObserver||window.WebKitMutationObserver,b=function(t,e){if(t===e)return!0;if(v(t))for(var n=t.children,i=n.length;i--;)if(b(n[i],e))return!0;return!1},w?function(t,e){new w((function(n,i){for(var r=n.length;r--;)for(var o=n[r].removedNodes,s=o.length;s--;)if(b(o[s],t))return i.disconnect(),e()})).observe(document,{childList:!0,subtree:!0})}:function(t,e){var n=function(i){b(i.target,t)&&(document.removeEventListener("DOMNodeRemoved",n),e())};document.addEventListener("DOMNodeRemoved",n)});function E(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length,i=t[0]||{},r=0;r<n;r++)for(var o in t[r]){var s=t[r][o],a=Array.isArray(s);if(a||f(s)){var u=i[o];u=a?Array.isArray(u)?u:[]:f(u)?u:{},i[o]=E(u,s)}else i[o]=s}return i}function R(t,e,n){var i=new Image;i.addEventListener("load",(function(){return e(i)})),i.addEventListener("error",(function(t){return null==n?void 0:n(t)})),i.src=t}function O(t,e){return t===e?t:Math.random()*(t-e)+e}function S(){return"#"+Math.random().toString(16).slice(-6)}var I,C=Object.freeze({__proto__:null,typeChecking:c,isFunction:h,isPlainObject:f,isString:p,isNumber:function(t){return"number"==typeof t},isBoolean:function(t){return"boolean"==typeof t},isUndefined:d,isNull:l,isNil:function(t){return d(t)||l(t)},isElement:v,getNumberValueOfStyle:y,offset:function(t){var e=t.getBoundingClientRect();return{left:window.pageXOffset+e.left,top:window.pageYOffset+e.top}},observeElementRemoved:M,degreesToRadians:function(t){return t*i},radiansToDegrees:function(t){return t/i},calcQuantity:function(t,e){return t>0&&t<1?t*e:t},merge:E,loadImage:R,randomInRange:O,randomSpeed:function(t,e){return(O(t,e)||t)*(Math.random()>.5?1:-1)},randomColor:S,pInt:m,toFixed:function(t,e){return void 0===e&&(e=0),parseFloat(Number(t).toFixed(e))},trimAll:function(t){return t.replace(u,"")},upperFirst:g}),x={linear:function(t,e,n,i){return n+(i-n)*t},swing:function(t,e,n,i,r){return x.easeInOutQuad(t,e,n,i,r)},easeInOutQuad:function(t,e,n,i,r){return(e/=r/2)<1?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n}},A={opacity:1,color:[],resize:!0},k=function(t,e){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function P(t,e){for(var n=0,i=e.length,r=t.length;n<i;n++,r++)t[r]=e[n];return t}window.requestAnimationFrame=(I=window).requestAnimationFrame||I.webkitRequestAnimationFrame||I.mozRequestAnimationFrame||function(t){return I.setTimeout(t,1e3/60)},Math.hypot||(Math.hypot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,i=0,r=!1,o=0;o<arguments.length;++o){var s=Math.abs(Number(t[o]));s===1/0&&(r=!0),s>n&&(i*=n/s*(n/s),n=s),i+=0===s&&0===n?0:s/n*(s/n)}return r||n===1/0?1/0:n*Math.sqrt(i)});var F=function(){function t(){this.listenerMap={}}return t.prototype.on=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.listenerMap[t]||(this.listenerMap[t]=[]);for(var i=0,r=e;i<r.length;i++){var o=r[i];h(o)&&this.listenerMap[t].push(o)}return this},t.prototype.off=function(t,e){if(!t)return this.listenerMap={},this;if(!e)return this.listenerMap[t]=[],this;var n=this.listenerMap[t],i=n.indexOf(e);return-1!==i&&n.splice(i,1),this},t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=this.listenerMap[t];return Array.isArray(i)&&i.forEach((function(t){t.apply(void 0,e)})),this},t}(),j=function(){function t(t,e,n){this.elements=[],this.isCanvasRemoved=!1,this.isPaused=!1,this.eventEmitter=new F,this.isRunningSupported=!1,a&&(this.container=v(e)?e:document.querySelector(e),this.isRunningSupported=!!this.container,this.container&&(this.options=E({},A,t,n),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.container.innerHTML="",this.container.appendChild(this.canvas),this.getColor=this.makeColorMethod()))}return t.prototype.bootstrap=function(){this.isRunningSupported&&(this.setCanvasDimension(),this.observeCanvasRemoved(),this.resizeEvent(),this.init(),this.draw())},t.prototype.clearCanvasAndSetGlobalAttrs=function(){var t=this,e=t.ctx,n=t.canvasWidth,i=t.canvasHeight;e.clearRect(0,0,n,i),e.globalAlpha=this.options.opacity},t.prototype.makeColorMethod=function(){var t=this.options.color,e=Array.isArray(t)?t.length:0;return p(t)?function(){return t}:0===e?S:function(){return t[Math.floor(Math.random()*e)]}},t.prototype.setCanvasDimension=function(){var t=window.devicePixelRatio,e=y(this.container,"width")||485,n=y(this.container,"height")||300;this.canvasWidth=e,this.canvasHeight=n,this.canvas.width=e*t,this.canvas.height=n*t,this.canvas.style.width=e+"px",this.canvas.style.height=n+"px",this.ctx.scale(t,t)},t.prototype.observeCanvasRemoved=function(){var t=this;M(this.canvas,(function(){t.isCanvasRemoved=!0,t.resizeHandler&&window.removeEventListener("resize",t.resizeHandler),t.eventEmitter.trigger(e.DESTROY),t.eventEmitter.off()}))},t.prototype.requestAnimationFrame=function(){this.isPaused||this.isCanvasRemoved||window.requestAnimationFrame(this.draw.bind(this))},t.prototype.resizeEvent=function(){var t=this;this.options.resize&&(this.resizeHandler=function(){var n=t.canvasWidth,i=t.canvasHeight;t.setCanvasDimension();var r=t.canvasWidth/n,o=t.canvasHeight/i;t.elements.forEach((function(t){f(t)&&(t.x*=r,t.y*=o)})),t.eventEmitter.trigger(e.RESIZE,r,o),t.isPaused&&t.draw()},window.addEventListener("resize",this.resizeHandler))},t.prototype.pause=function(){!this.isRunningSupported||this.isCanvasRemoved||this.isPaused||(this.isPaused=!0)},t.prototype.open=function(){this.isRunningSupported&&!this.isCanvasRemoved&&this.isPaused&&(this.isPaused=!1,this.draw())},t.prototype.onDestroy=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=this.eventEmitter).on.apply(t,P([e.DESTROY],n)),this},t.prototype.onResize=function(){for(var t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return(t=this.eventEmitter).on.apply(t,P([e.RESIZE],n)),this},t}(),z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.completedMap={},e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}k(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.loadMaskImage=function(){var t=this,e=this.options.mask;if(e)if(p(e)){if(this.completedMap[e])return void(this.maskImage=this.completedMap[e]);R(e,(function(n){t.completedMap[e]=n,t.maskImage=n}))}else this.maskImage=e},e.prototype.renderMaskMode=function(t){if(this.maskImage){var e=this.options.maskMode||"normal";this.ctx.save(),this["mode"+g(e)](t),this.ctx.restore()}else t()},e.prototype.modeNormal=function(t){this.drawMaskImage(),this.ctx.globalCompositeOperation="source-atop",t()},e.prototype.modeGhost=function(t){this.ctx.save(),this.ctx.filter="grayscale(100%)",this.drawMaskImage(),this.ctx.restore(),this.ctx.globalCompositeOperation="source-atop",t(),this.ctx.clip(),this.drawMaskImage()},e.prototype.drawMaskImage=function(){if(this.maskImage){var t=this,e=t.ctx,n=t.canvasWidth,i=t.canvasHeight,r=t.maskImage,o=r.width,s=r.height,a=o/s,u=o>n?n:o,c=s>i?i:s;o>s?c=u/a:u=c*a;var h=(n-u)/2,f=(i-c)/2;e.drawImage(r,0,0,o,s,h,f,u,c)}},e}(j);t.Base=j,t.Events=F,t.Mask=z,t.commonConfig=A,t.easing=x,t.utils=C}));
